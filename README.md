# 印中图译通 🌏

印尼语图片翻译与词汇学习应用 - 基于 OpenAI GPT-4o 的高精度智能翻译工具

---

## ✨ 功能特性

- 📸 **AI 图片识别** - 使用 GPT-4o Vision 高精度识别图片中的印尼语（识别率 95%+）
- 🌐 **智能翻译** - 准确翻译印尼语到中文  
- 📚 **词汇解析** - AI 自动提取重点词汇，分析词义、词性、词根
- 💾 **结果导出** - 支持复制和下载翻译结果
- 📝 **历史记录** - 自动保存翻译历史，支持搜索、查看和删除
- 🎴 **单词卡片** - 翻译的词汇自动生成单词卡片，支持学习状态管理
- 🔄 **数据联动** - 首页翻译自动同步到历史记录和单词卡片
- 📱 **响应式设计** - 完美支持桌面端和移动端

---

## 🚀 快速开始

### 1. 启动应用（最简单）

**macOS 用户：双击 `启动应用.command` 文件**

首次使用可能需要右键选择"打开"确认

### 2. 或使用命令行

```bash
# 安装依赖（首次使用）
npm install

# 启动应用
npm run dev

# 或使用启动脚本
./启动应用.command  # macOS
./启动应用.sh       # Linux
```

访问 http://localhost:5173

---

## 📖 使用方法

### 首页 - 图片翻译
1. **上传图片** - 点击上传区域或拖拽图片（支持 JPG/PNG/JPEG）
2. **开始翻译** - 点击"开始翻译"，AI 处理需要 3-10 秒
3. **查看结果** - 获得印尼语原文、中文翻译和词汇解析
4. **自动保存** - 翻译结果自动保存到历史记录和单词卡片
5. **导出结果** - 复制或下载翻译结果

### 历史记录
1. **查看历史** - 自动加载所有翻译历史
2. **搜索记录** - 输入关键词搜索历史翻译
3. **删除记录** - 删除单条记录或清空所有历史
4. **分页浏览** - 支持分页查看大量历史

### 单词卡片
1. **自动生成** - 翻译后的词汇自动生成卡片
2. **学习模式** - 翻转卡片查看详细信息
3. **状态管理** - 标记学习状态（未学会/学习中/已学会）
4. **进度追踪** - 实时显示学习进度
5. **删除单词** - 点击单词列表的删除按钮可移除不需要的单词
6. **精准例句** - 例句翻译只对应例句本身，不再显示整段翻译

---

## ⚙️ 配置说明

### 环境变量配置

项目已配置好 OpenAI API Key，存储在 `.env.local` 文件中：

```env
VITE_OPENAI_API_KEY=你的API密钥
```

**注意：** `.env.local` 已添加到 `.gitignore`，不会上传到 Git

---

## 💰 成本说明

使用 GPT-4o mini Vision API，成本极低：

- 单次翻译：约 ¥0.003
- 100 次：约 ¥0.33  
- 1000 次：约 ¥3.3

---

## 🛠️ 技术栈

- React 19.1.0 + TypeScript 5.8.3
- Vite 7.0.3 - 构建工具
- Tailwind CSS 3.4.1 - 样式框架
- OpenAI GPT-4o mini - AI 服务
- React Router 7.6.3 - 路由管理

---

## 📁 项目结构

```
src/
├── services/
│   └── openai.ts          # OpenAI API 服务
├── pages/
│   ├── p-home/            # 首页 - 图片翻译
│   ├── p-history/         # 历史记录
│   └── p-flashcard/       # 单词卡片
├── router/                # 路由配置
└── components/            # 组件
```

---

## 🔧 常见问题

### 双击启动没反应？
- macOS: 右键选择"打开"，或运行 `chmod +x 启动应用.command`

### 提示未检测到 Node.js？  
- 下载安装 Node.js: https://nodejs.org/

### 翻译失败？
- 检查网络连接
- 确认 API Key 有效
- 查看 OpenAI 账户余额

### 历史记录显示为空？

**常见原因：localStorage 存储已满**

如果控制台显示 `QuotaExceededError`：

1. **使用清理工具**：
   - 双击打开 `清理存储.html`
   - 点击"清空所有数据并修复"
   - 关闭页面，重新翻译

2. **手动清理**：
   - F12 → Application → Local Storage
   - 右键 → Clear
   - 刷新页面

**注意**：为避免存储超限，历史记录不再保存图片

### 端口被占用？
```bash
npm run dev -- --port 3000
```

---

## 🚀 部署到 Vercel（免费）

### 快速部署

1. **Fork 或上传到 GitHub**
2. **访问 [Vercel](https://vercel.com)** 并用 GitHub 登录
3. **导入项目** 并配置环境变量：
   ```
   OPENAI_API_KEY=你的OpenAI密钥
   ```
4. **点击部署**，等待 2-3 分钟即可

### 详细步骤

查看 [部署指南.md](./部署指南.md) 获取完整的部署教程。

或运行一键部署脚本：
```bash
./deploy.sh
```

### 部署后的优势

- ✅ **API Key 安全**: 密钥存储在服务器环境变量，不暴露在前端
- ✅ **全球 CDN**: 访问速度快
- ✅ **自动 HTTPS**: SSL 证书自动配置
- ✅ **自动部署**: 推送代码自动更新

---

## ⚠️ 注意事项

- **数据存储**: 当前使用 localStorage 本地存储，数据只保存在浏览器中
- **跨设备同步**: 如需跨设备访问数据，建议集成云端数据库（如 Supabase）

---

## 📝 开发命令

```bash
npm run dev      # 启动开发服务器
npm run build    # 构建生产版本
npm run preview  # 预览生产版本
npm run lint     # 代码检查
```

---

## 📄 文件说明

- `启动应用.command` - macOS 双击启动（推荐）
- `启动应用.sh` - Linux 启动脚本
- `.env.local` - 环境变量配置（已配置）
- `package.json` - 项目依赖

---

**Made with ❤️ for Indonesian language learners**

🌟 祝学习愉快！
